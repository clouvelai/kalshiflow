# RLM NO Strategy Configuration
# Reverse Line Movement - Bet NO when YES trades dominate but price drops
#
# Validated edge: +17.38% on 1.7M+ trades across 72k+ unique markets
# Reference: research/strategies/h014_rlm_validation.md

name: rlm_no
enabled: true
display_name: "Reverse Line Movement NO"

# Position limits
max_positions: 60          # Maximum concurrent positions
max_exposure_cents: 600000 # Maximum total exposure ($6,000)

# Rate limiting
max_trades_per_minute: 10  # Strategy-specific rate limit

# Strategy-specific parameters
params:
  # Signal thresholds
  yes_threshold: 0.70      # Minimum YES trade ratio to trigger
  min_trades: 25           # Minimum trades before signal valid
  min_price_drop: 5        # Minimum price drop from open (cents)
  min_no_price: 35         # Minimum NO entry price (backtest: <35c has -32% edge)

  # Position sizing
  contracts_per_trade: 50  # Contracts per signal execution

  # Position scaling by price drop (S-001 validated)
  # Higher price drops have higher win rates and edge
  # 5-10c: 91.8% win rate, +12.1% edge -> 1.0x base
  # 10-20c: 95.6% win rate, +16.0% edge -> 1.5x
  # 20c+: 98.4% win rate, +31.5% edge -> 2.0x
  position_scaling:
    enabled: true
    base_contracts: 50
    tiers:
      - drop_min: 20  # 20c+ drop -> 2.0x
        multiplier: 2.0
      - drop_min: 10  # 10-20c drop -> 1.5x
        multiplier: 1.5
      - drop_min: 5   # 5-10c drop -> 1.0x (base)
        multiplier: 1.0

  # Entry behavior
  allow_reentry: true      # Allow adding to existing positions
  max_concurrent: 1000     # Max concurrent positions (high to allow trading with existing positions)

  # Orderbook filters (spread tiers)
  tight_spread: 2          # Tight spread threshold (cents)
  normal_spread: 5         # Normal spread threshold (cents)
  max_spread: 10           # Maximum acceptable spread (cents)
  orderbook_timeout: 5.0   # Seconds to wait for orderbook data

  # Dynamic spread limits by price drop (was hardcoded at 3/5/8c)
  # Larger price drops warrant wider spread tolerance due to higher edge
  spread_tiers:
    drop_20_plus: 8        # 20c+ price drop -> allow up to 8c spread
    drop_10_plus: 5        # 10-20c price drop -> allow up to 5c spread
    default: 5             # <10c price drop -> allow up to 5c spread (was 3c)

  # Time filters (match old rlm_service defaults for parity)
  min_hours_to_settlement: 0.5   # Minimum hours until market closes
  max_days_to_settlement: 30     # Maximum days until market closes (was 7, old service used 30)
