# Session 011: Bot/Algorithmic Trading Exploitation Hypotheses

**Date**: 2025-12-29
**Analyst**: The Quant (Opus 4.5)
**Objective**: Generate 15+ creative hypotheses to detect and exploit bot/algorithmic trading patterns
**Starting Hypothesis ID**: H087 (continuing from H085 in previous session)

---

## Context: Why Bots Are Exploitable

### The Bot Ecosystem on Kalshi

1. **Market Making Bots**
   - Provide liquidity on both YES and NO sides
   - Capture bid-ask spread as profit
   - Have inventory limits and rebalancing patterns
   - WEAKNESS: Predictable quoting behavior, can be front-run

2. **Arbitrage Bots**
   - Monitor cross-platform prices (Kalshi vs Polymarket)
   - Lock in risk-free profits when prices diverge
   - Trade rapidly when opportunities appear
   - WEAKNESS: Predictable entry/exit points, timing patterns

3. **Mean Reversion Bots**
   - Fade extreme price movements
   - Buy when price drops, sell when price rises
   - WEAKNESS: Can be too early, trigger levels are predictable

4. **Momentum Bots**
   - Chase price trends
   - Pile on when prices move
   - WEAKNESS: Create overshoots, can be faded

5. **News/Signal Bots**
   - React to external data feeds
   - Trade on keywords/sentiment
   - WEAKNESS: Don't understand context, overreact to noise

### Key Bot Characteristics We Can Detect

| Characteristic | Human Traders | Bots |
|----------------|---------------|------|
| Trade timing | Irregular | Precise intervals |
| Trade sizes | Variable | Fixed/round numbers |
| Speed | Slow | Milliseconds apart |
| Patterns | Random | Repetitive |
| Leverage use | Variable | Consistent |
| Time of day | Peak hours | 24/7 |

---

## The Novel Hypotheses (H087-H102)

### H087: Round Contract Size Bot Detection

**Hypothesis**: Trades with EXACTLY round contract sizes (10, 25, 50, 100, 250, 500, 1000) are more likely to be algorithmic. Fading these trades has edge because bots follow simple logic that can be exploited.

**Behavioral Rationale**:
- Humans bet irregular amounts ($13, $47, $163)
- Bots use clean numbers (10, 25, 50, 100)
- Bot logic is often simplistic and predictable
- When bots ALL agree (many round trades same direction), they may be wrong together

**How to Test**:
```python
# Detect bot trades:
round_sizes = [10, 25, 50, 100, 250, 500, 1000]
is_bot_trade = df['count'].isin(round_sizes)

# For each market:
# 1. Calculate % of trades that are round sizes
# 2. Calculate direction of round-size trades
# 3. When >60% of round trades agree, flag as "bot consensus"
# 4. Test: Fade bot consensus vs follow bot consensus
```

**Signal Definition**:
- When: >60% of round-size trades in market are same direction
- Action: FADE the bot consensus direction

**Expected Edge**: +3-7% if bots are predictably wrong
**Risk of Price Proxy**: LOW - measures trade SIZE patterns, not price

---

### H088: Millisecond Burst Detection (HFT Signature)

**Hypothesis**: Multiple trades within the SAME SECOND (or even same millisecond) indicate algorithmic trading. These bursts often represent market makers or arb bots, and their aggregate direction may be exploitable.

**Behavioral Rationale**:
- Humans cannot trade multiple times per second
- HFT bots leave millisecond footprints
- Burst patterns reveal bot strategy (MM = alternating, arb = same direction)
- Direction of burst may reveal information or be noise

**How to Test**:
```python
# Detect bursts:
# 1. Group trades by second (timestamp // 1000)
# 2. Find seconds with 3+ trades
# 3. Calculate burst characteristics:
#    - Total volume in burst
#    - Direction consistency (% same side)
#    - Spread of prices in burst
# 4. Test: Do high-volume same-direction bursts predict outcomes?
```

**Signal Definition**:
- When: 3+ trades in same second, >80% same direction
- Action: Follow the burst direction (arb bots may know something)

**Expected Edge**: +5-10% if we can detect informed bot activity
**Risk of Price Proxy**: LOW - measures timing pattern, not price

---

### H089: Interval Trading Pattern (Systematic Bot)

**Hypothesis**: Trades that occur at REGULAR INTERVALS (every N seconds/minutes) indicate systematic/algorithmic trading. These bots follow mechanical rules that can be predicted and exploited.

**Behavioral Rationale**:
- Humans trade when they feel like it
- Bots trade on schedules (every 30 seconds, every minute)
- Regular intervals = mechanical strategy
- Mechanical strategies have predictable flaws

**How to Test**:
```python
# For each market:
# 1. Calculate time gaps between consecutive trades
# 2. Look for "regular" patterns (std of gaps < mean/3)
# 3. Markets with regular trading = high bot activity
# 4. Test: Do bot-dominated markets behave differently?

# Also look for:
# - Trades at :00 or :30 of each minute
# - Trades at the top of each hour
```

**Signal Definition**:
- When: Market has >30% of trades at regular intervals (within 1 second of predicted)
- Action: Fade the bot direction in final trades (bots may be wrong as event approaches)

**Expected Edge**: +3-6% if interval bots are detectable
**Risk of Price Proxy**: LOW - measures timing regularity, not price

---

### H090: Identical Consecutive Trade Size (Bot Accumulation)

**Hypothesis**: When a bot accumulates a position, it often uses the SAME TRADE SIZE repeatedly. Detecting sequences of identical-size trades (e.g., five consecutive trades of exactly 100 contracts) reveals bot behavior.

**Behavioral Rationale**:
- Humans vary their bet sizes
- Bots have hardcoded position sizing
- Identical consecutive sizes = automated order splitting
- This is either TWAP (time-weighted average) or VWAP (volume-weighted) execution

**How to Test**:
```python
# For each market:
# 1. Find runs of identical trade sizes (same count, same direction)
# 2. Run length 3+ = potential bot accumulation
# 3. Calculate total volume in run
# 4. Test: Do bot accumulation runs predict better than random?
```

**Signal Definition**:
- When: 3+ consecutive trades with identical count, same direction
- Action: Follow the accumulation direction

**Expected Edge**: +4-8% if bots are informed accumulators
**Risk of Price Proxy**: LOW - measures size pattern, not price

---

### H091: Trade Size Ratio Consistency (Position Scaling Bot)

**Hypothesis**: Bots that scale into positions use consistent SIZE RATIOS (e.g., 100, 200, 400 contracts - doubling each time). Detecting geometric/arithmetic progressions in trade sizes reveals sophisticated bot strategies.

**Behavioral Rationale**:
- Humans bet "what feels right"
- Sophisticated bots use mathematical scaling
- Martingale (2x each time) is common
- Position scaling bots are often LOSING (martingale fails)

**How to Test**:
```python
# For each market:
# 1. Calculate ratios between consecutive same-direction trade sizes
# 2. Look for consistent ratios (1.5x, 2x, 3x)
# 3. Flag markets with 3+ trades following geometric progression
# 4. Test: Fade the scaling direction (they may be chasing losses)
```

**Signal Definition**:
- When: 3+ trades with consistent size ratio (within 10% of ratio)
- Action: FADE the scaling direction (martingale strategies lose)

**Expected Edge**: +5-10% if martingale bots are detectable
**Risk of Price Proxy**: LOW - measures size progression, not price

---

### H092: Price Grid Trading Pattern (Market Maker Bot)

**Hypothesis**: Market makers quote at regular price intervals (every 1c, 2c, or 5c). When trades cluster at grid prices (25, 30, 35, 40...), it reveals MM bot activity. We can exploit MM rebalancing patterns.

**Behavioral Rationale**:
- Market makers quote on grids
- When price hits grid level, MM bot responds
- MM bots have inventory limits - they MUST rebalance
- After heavy one-sided flow, MM will reverse (or stop quoting)

**How to Test**:
```python
# Detect grid trading:
# 1. Analyze price distribution - do prices cluster at 5c intervals?
# 2. After heavy volume at one grid level, what happens next?
# 3. Does the MM "exhaust" and cause reversal?

# Grid prices: 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, etc.
is_grid_price = (df['yes_price'] % 5 == 0)
```

**Signal Definition**:
- When: Heavy volume at a grid price level, then gap to next grid level
- Action: Fade the direction (MM exhaustion = price reversal)

**Expected Edge**: +3-6% if MM patterns are exploitable
**Risk of Price Proxy**: MEDIUM - involves price levels

---

### H093: Zero-Leverage Bot Detection (Arb Bot Signature)

**Hypothesis**: Trades with leverage_ratio near 0 or near infinity (both very low and very high) at prices near 50c indicate arbitrage bots locking in spreads. These trades are NOT directional predictions and should be excluded or faded.

**Behavioral Rationale**:
- Arb bots buy YES and sell NO (or vice versa) to lock spread
- This creates trades with abnormal leverage patterns
- Arb bot trades don't predict outcomes - they exploit spreads
- Following arb bots is useless; their direction is noise

**How to Test**:
```python
# Detect potential arb trades:
# 1. Trades at prices 45-55c (near 50-50)
# 2. With extreme leverage (very high or very low)
# 3. Especially if both YES and NO trades in same market, same second

# Test: Exclude arb-flagged trades and recalculate edge
# Or: Compare arb-heavy markets vs non-arb markets
```

**Signal Definition**:
- When: Trades at 45-55c with leverage < 1.0 or > 10
- Action: EXCLUDE from directional analysis (not informative)

**Expected Edge**: Indirect - improves other signal quality
**Risk of Price Proxy**: MEDIUM - involves price filtering

---

### H094: After-Hours Bot Dominance

**Hypothesis**: Trades during low-activity hours (2AM-6AM US time) are primarily bots. If bots are systematically wrong (or right), we can exploit their after-hours activity.

**Behavioral Rationale**:
- Humans sleep at night
- Bots trade 24/7
- After-hours trading = high bot concentration
- Bot consensus at 3AM may be different from mixed human/bot consensus at 3PM

**How to Test**:
```python
# Define after-hours: 2AM-6AM ET (07:00-11:00 UTC)
# 1. Calculate bot-heavy hour trades
# 2. Calculate direction of after-hours trading
# 3. Test: Does after-hours direction predict or anti-predict?
```

**Signal Definition**:
- When: Trade occurs 2AM-6AM ET
- Action: Fade the after-hours direction (bots may be wrong)

**Expected Edge**: +2-5% if bots are systematically biased
**Risk of Price Proxy**: LOW - measures time, not price

---

### H095: Momentum Ignition Detection

**Hypothesis**: Bots sometimes place aggressive orders to "ignite" momentum, hoping to trigger other bots to chase. These momentum ignition patterns (rapid price move followed by reversal) can be detected and faded.

**Behavioral Rationale**:
- Momentum ignition is a known HFT tactic
- Bot places aggressive order -> price moves -> other bots chase -> original bot exits
- Results in a "spike and fade" pattern
- If we detect the spike, we can fade it

**How to Test**:
```python
# Detect momentum ignition:
# 1. Price moves 5c+ in <30 seconds
# 2. Followed by partial reversal
# 3. Initial move was driven by few large trades
# 4. Test: Fade price spikes that fit this pattern
```

**Signal Definition**:
- When: 5c+ price move in <30 seconds on <5 trades
- Action: FADE the spike direction

**Expected Edge**: +5-12% if momentum ignition is detectable
**Risk of Price Proxy**: MEDIUM - involves price movement

---

### H096: Quote Stuffing Aftermath

**Hypothesis**: When there's a burst of trades followed by a "quiet period" (no trades for unusual duration), a bot may have been quote stuffing. The direction AFTER the quiet period is more informative.

**Behavioral Rationale**:
- Quote stuffing = overwhelming the market with noise
- Creates confusion, then bots exploit the aftermath
- First trade after quiet period = bot with strategy
- This trade may be more informed

**How to Test**:
```python
# Detect quote stuffing:
# 1. Burst of 10+ trades in 10 seconds
# 2. Followed by gap of 30+ seconds with no trades
# 3. First trade after gap = potential signal
# 4. Test: Does post-quiet-period trade predict?
```

**Signal Definition**:
- When: First trade after unusual quiet period (following burst)
- Action: Follow that trade direction

**Expected Edge**: +3-7% if post-stuffing trades are informed
**Risk of Price Proxy**: LOW - measures timing pattern, not price

---

### H097: Bot Disagreement Signal

**Hypothesis**: When we detect multiple bot signatures (round sizes, bursts, intervals) but they DISAGREE on direction, the market is uncertain and prices are unreliable. When bots AGREE, they may be right.

**Behavioral Rationale**:
- Multiple bots with different strategies
- When they agree = strong signal
- When they disagree = uncertainty/noise
- Bot consensus might be more reliable than human consensus

**How to Test**:
```python
# For each market:
# 1. Identify bot-like trades (round sizes, bursts, intervals)
# 2. Calculate bot consensus (% in one direction)
# 3. When bot consensus >80%, flag as "bot agreement"
# 4. Test: Does bot agreement predict outcomes?
```

**Signal Definition**:
- When: >80% of bot-like trades agree on direction
- Action: Follow the bot consensus

**Expected Edge**: +4-8% if bots are informed when they agree
**Risk of Price Proxy**: LOW - measures bot behavior, not price

---

### H098: Bot Fade at Resolution Proximity

**Hypothesis**: As markets approach resolution, bots may have stale models while humans have real-time information. Fading bot activity (detected via patterns) in final hour has edge.

**Behavioral Rationale**:
- Bots use statistical models trained on historical data
- Humans can adapt to breaking news
- Near resolution, real information dominates
- Bot models become outdated

**How to Test**:
```python
# For markets with known close_time:
# 1. Identify trades in final 60 minutes
# 2. Among those, identify bot-like trades
# 3. Calculate bot direction in final hour
# 4. Fade bot direction near resolution
```

**Signal Definition**:
- When: Bot-like trade in final hour before resolution
- Action: FADE the bot direction

**Expected Edge**: +5-10% if bots are stale near resolution
**Risk of Price Proxy**: LOW - measures timing + pattern

---

### H099: Spread-Sensitive Bot Exploitation

**Hypothesis**: Some bots only trade when spread is tight (low cost). When spread widens, bots withdraw. Trades during wide-spread periods are more likely human/informed, and may predict better.

**Behavioral Rationale**:
- Bots are cost-sensitive (programmed to minimize transaction costs)
- Wide spreads = high cost = bots don't trade
- Humans with conviction trade anyway
- Wide-spread trades = higher conviction signals

**How to Test**:
```python
# Calculate implied spread:
# spread = (yes_price + no_price - 100)  # Negative means arbitrage opportunity
# Wide spread = (yes_price + no_price) < 95

# Test: Do trades during wide-spread periods predict better?
```

**Signal Definition**:
- When: yes_price + no_price < 95 (5c+ spread)
- Action: Follow these trades (high conviction)

**Expected Edge**: +3-6% if wide-spread trades are more informed
**Risk of Price Proxy**: MEDIUM - involves spread calculation

---

### H100: Cross-Market Bot Arbitrage Leakage

**Hypothesis**: Arb bots trading related markets (e.g., KXBTCD-25DEC28 and KXBTCD-25DEC29) leave timing footprints. Trades in one market followed IMMEDIATELY by trades in related market indicate arb activity.

**Behavioral Rationale**:
- Arb bots move across related markets
- If bot buys YES in Market A, it may sell NO in Market B
- This creates detectable cross-market patterns
- We can't exploit the arb itself, but can detect it

**How to Test**:
```python
# For related market pairs (same prefix, consecutive dates):
# 1. Find trades within 1 second of each other across markets
# 2. Identify arb patterns (opposite directions)
# 3. Exclude or flag these trades
# 4. Test: Do non-arb trades predict better?
```

**Signal Definition**:
- When: Trades in related markets within 1 second, opposite directions
- Action: EXCLUDE as arbitrage noise

**Expected Edge**: Indirect - improves signal purity
**Risk of Price Proxy**: LOW - measures cross-market timing

---

### H101: Bot Exhaustion After Spike

**Hypothesis**: After a bot-driven price spike (detected via burst patterns), bots often exhaust their capital/inventory. The NEXT trade direction (from a different actor) may represent the "true" market view.

**Behavioral Rationale**:
- Bots have position limits
- After aggressive accumulation, bot is "full"
- Market then reflects other participants' views
- The first non-bot trade after spike is informative

**How to Test**:
```python
# Detect bot exhaustion:
# 1. Identify bot-driven price spikes (burst + 5c+ move)
# 2. Wait for gap (10+ seconds with no trades)
# 3. Capture first "non-bot" trade (irregular size, after gap)
# 4. Test: Does post-exhaustion trade predict?
```

**Signal Definition**:
- When: First trade after bot spike + quiet period
- Action: Follow that trade direction

**Expected Edge**: +4-8% if post-exhaustion trades are human/informed
**Risk of Price Proxy**: LOW - measures pattern sequence

---

### H102: Leverage Stability Bot Detection

**Hypothesis**: Bots use consistent leverage ratios (their risk parameters are hardcoded). Trades with highly consistent leverage within a market indicate bot activity. Human leverage varies based on conviction.

**Behavioral Rationale**:
- Bots have fixed risk parameters (e.g., always bet at 3x leverage)
- Humans vary their sizing based on conviction
- Consistent leverage across multiple trades = same bot
- We can detect and potentially exploit this

**How to Test**:
```python
# For each market:
# 1. Calculate std of leverage_ratio across trades
# 2. Low std (<0.5) = consistent leverage = likely bot-dominated
# 3. High std (>2.0) = variable leverage = likely human-dominated
# 4. Test: Do bot-dominated vs human-dominated markets differ in predictability?
```

**Signal Definition**:
- When: Market has leverage std < 0.5 (bot-dominated)
- Action: Fade the majority direction (bots may be dumb)

**Expected Edge**: +3-6% if we can segment bot vs human markets
**Risk of Price Proxy**: LOW - measures leverage distribution

---

## Priority Testing Order

### Tier 1: Most Testable, Highest Signal

| ID | Hypothesis | Why Prioritize |
|----|------------|----------------|
| H087 | Round Size Bot Detection | Simple to detect, large sample |
| H088 | Millisecond Burst | Clear HFT signature |
| H090 | Identical Consecutive Sizes | Pattern-based, not price |
| H094 | After-Hours Bot Dominance | Easy time-based filter |
| H097 | Bot Disagreement Signal | Combines multiple signals |

### Tier 2: More Complex, Still Viable

| ID | Hypothesis | Why Promising |
|----|------------|---------------|
| H089 | Interval Trading | Detectable but noisy |
| H091 | Size Ratio Consistency | Martingale detection |
| H095 | Momentum Ignition | Known phenomenon |
| H098 | Bot Fade at Resolution | Time-conditional |
| H102 | Leverage Stability | Novel angle |

### Tier 3: Harder to Detect, Speculative

| ID | Hypothesis | Notes |
|----|------------|-------|
| H092 | Price Grid Trading | Requires spread data |
| H093 | Zero-Leverage Arb | Edge case detection |
| H096 | Quote Stuffing Aftermath | Complex pattern |
| H099 | Spread-Sensitive | Need implied spread |
| H100 | Cross-Market Arb | Need market pairs |
| H101 | Bot Exhaustion | Multi-stage pattern |

---

## Key Bot Detection Features

### Signals We Can Extract from Trade Data

1. **Size Patterns**
   - Round contract sizes (10, 25, 50, 100...)
   - Identical consecutive sizes
   - Geometric progressions (doubling, etc.)

2. **Timing Patterns**
   - Multiple trades same second
   - Regular intervals (every N seconds)
   - After-hours concentration
   - Trade bursts followed by quiet periods

3. **Leverage Patterns**
   - Consistent leverage ratio
   - Extreme leverage (very high or very low)
   - Leverage not matching price (arb signature)

4. **Aggregate Behavior**
   - Bot consensus (when all bots agree)
   - Bot disagreement (conflicting signals)
   - Bot vs human segmentation

### Bot Detection Composite Score

We can create a "bot probability" score for each trade:

```python
def bot_probability(trade):
    score = 0

    # Size signals
    if trade['count'] in [10, 25, 50, 100, 250, 500, 1000]:
        score += 0.3

    # Timing signals (need context)
    if is_same_second_as_previous(trade):
        score += 0.4

    # Leverage signals
    if std_leverage_in_market < 0.5:
        score += 0.2

    # Time of day
    if is_after_hours(trade):
        score += 0.1

    return min(score, 1.0)  # Cap at 100%
```

---

## The Exploitation Strategy

### Phase 1: Detect Bots
Use the composite features to identify bot-like trades

### Phase 2: Segment Markets
- Bot-dominated markets (>50% bot probability)
- Human-dominated markets (<20% bot probability)
- Mixed markets (20-50%)

### Phase 3: Apply Conditional Strategies
- In bot-dominated markets: Fade bot consensus (bots are often wrong together)
- In human-dominated markets: Follow the flow (humans may be informed)
- In mixed markets: Use leverage signal (S007)

---

## Testing Methodology

### For Bot Detection Hypotheses

1. **Define Bot Signature Clearly**
   - What makes a trade "bot-like"?
   - Multiple indicators strengthen detection

2. **Calculate Bot Direction**
   - Aggregate bot-like trades per market
   - What direction are bots betting?

3. **Compare Bot vs Non-Bot Outcomes**
   - Do bot trades predict better or worse?
   - Is there information in bot activity?

4. **Test Both Follow and Fade**
   - Following bots (they're informed)
   - Fading bots (they're dumb)
   - One will have edge if bots are detectably different

5. **Price Proxy Check (Always)**
   - After finding edge, compare to baseline at same prices
   - Reject if improvement < +2%

---

## Expected Outcomes

### Optimistic Scenario
- Bots ARE detectable via these patterns
- Bot consensus is systematically WRONG (or RIGHT)
- We can add +3-8% edge by bot filtering

### Neutral Scenario
- Bots are detectable but NOT systematically biased
- Bot detection helps reduce noise but doesn't add edge
- Improves other signal quality but not directly tradeable

### Pessimistic Scenario
- Bots are too sophisticated to detect with trade-level data
- Bot patterns are noise, not signal
- No exploitable pattern exists

---

## Next Steps

1. Update RESEARCH_JOURNAL.md with Session 011 entry
2. Create analysis script: `session011_bot_exploitation.py`
3. Test Tier 1 hypotheses in priority order
4. Start with H087 (Round Size Bot Detection) - simplest signal
5. Document all results rigorously

---

*Generated by The Quant (Opus 4.5) - Session 011*
*These hypotheses have NOT been tested. They are creative brainstorm output.*
*Testing required before any can be considered validated.*
*Mission: Hunt the bots. Exploit their flaws.*
